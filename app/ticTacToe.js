var ticTacToe=webpackJsonp_name_([1,2],{0:function(t,i,e){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0}),i.Game=i.Player=void 0;var n=e(16),r=s(n),a=e(17),h=s(a);i.Player=r["default"],i.Game=h["default"]},16:function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function n(t){e(this,n),this.name=t.name,this.figure=t.figure,this.turn=t.turn,this.winningTilesArray=[]};i["default"]=s},17:function(t,i,e){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),h=e(18),l=s(h),o=function(){function t(i){n(this,t),this.players=i,this.__createGame(),this.__newGame()}return a(t,[{key:"__createGame",value:function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=600,this.canvas.id="tic-tac-toe",this.tileCount=8,this.victory=4,this.tiles=[],this.tileMargin=this.canvas.width/this.tileCount/10,this.tilePadding=this.canvas.width/this.tileCount/6,this.tileSide=Math.round((this.canvas.width-this.tileMargin*(this.tileCount+1))/this.tileCount),this.ctx=this.canvas.getContext("2d"),this.ctx.strokeStyle="white",this.ctx.lineCap="round",this.clickOnCanvas=this.__click.bind(this)}},{key:"__click",value:function(){for(var t=window.event.clientX-this.canvas.offsetLeft,i=window.event.clientY-this.canvas.offsetTop,e=0;e<this.tileCount;e++)for(var s=0;s<this.tileCount;s++)if(t>this.tiles[e][s].x&&t<this.tiles[e][s].x+this.tileSide&&i<this.tiles[e][s].y+this.tileSide&&i>this.tiles[e][s].y&&"blank"===this.tiles[e][s].status)for(var n=0;n<this.players.length;n++)this.__whoseTurn(e,s,this.players[n])}},{key:"__whoseTurn",value:function(t,i,e){var s=this;if(e.turn===!0){var n=function(){switch(e.figure){case"cross":s.tiles[t][i].drawCross();break;case"circle":s.tiles[t][i].drawCircle()}s.__checkVictory(t,i,e);var n=function r(){s.victory<=e.winningTilesArray.length&&(s.canvas.removeEventListener("click",s.clickOnCanvas),s.tiles[t][i].animationEnd===!0?s.__newGame():requestAnimationFrame(r))};return e.turn=!1,{v:n()}}();if("object"===(void 0===n?"undefined":r(n)))return n.v}else e.turn=!0}},{key:"__checkVictory",value:function(t,i,e){e.winningTilesArray=[this.tiles[t][i]];for(var s=1;s<this.victory;s++)i-s>=0&&this.tiles[t][i-s].status===e.figure&&e.winningTilesArray.push(this.tiles[t][i-s]),i+s<this.tileCount&&this.tiles[t][i+s].status===e.figure&&e.winningTilesArray.push(this.tiles[t][i+s]);e.winningTilesArray.length<this.victory&&(e.winningTilesArray=[this.tiles[t][i]]);for(var n=1;n<this.victory;n++)if(t-n>=0){if(this.tiles[t-n][i].status!==e.figure)break;e.winningTilesArray.push(this.tiles[t-n][i])}for(var r=1;r<this.victory;r++)if(t+r<this.tileCount){if(this.tiles[t+r][i].status!==e.figure)break;e.winningTilesArray.push(this.tiles[t+r][i])}e.winningTilesArray.length<this.victory&&(e.winningTilesArray=[this.tiles[t][i]]);for(var a=1;a<this.victory;a++)if(t-a>=0&&i-a>=0){if(this.tiles[t-a][i-a].status!==e.figure)break;e.winningTilesArray.push(this.tiles[t+-a][i-a])}for(var h=1;h<this.victory;h++)if(t+h<this.tileCount&&i+h<this.tileCount){if(this.tiles[t+h][i+h].status!==e.figure)break;e.winningTilesArray.push(this.tiles[t+h][i+h])}e.winningTilesArray.length<this.victory&&(e.winningTilesArray=[this.tiles[t][i]]);for(var l=1;l<this.victory;l++)if(t+l<this.tileCount&&i-l>=0){if(this.tiles[t+l][i-l].status!==e.figure)break;e.winningTilesArray.push(this.tiles[t+l][i-l])}for(var o=1;o<this.victory;o++)if(t-o>=0&&i+o<this.tileCount){if(this.tiles[t-o][i+o].status!==e.figure)break;e.winningTilesArray.push(this.tiles[t-o][i+o])}e.winningTilesArray.length<this.victory&&(e.winningTilesArray=[this.tiles[t][i]])}},{key:"__newGame",value:function(){this.canvas.addEventListener("click",this.clickOnCanvas);for(var t=0;t<this.tileCount;t++){this.tiles[t]=[];for(var i=0;i<this.tileCount;i++){var e=Math.round(i*(this.tileSide+this.tileMargin)+this.tileMargin),s=Math.round(t*(this.tileSide+this.tileMargin)+this.tileMargin);this.tiles[t][i]=new l["default"](e,s,this.ctx,this.tileSide,this.tilePadding)}}}}]),t}();i["default"]=o},18:function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),n=function(){function t(i,s,n,r,a){e(this,t),this.x=i,this.y=s,this.padding=Math.round(a),this.side=r,this.ctx=n,this.status="blank",this.animationEnd=!1,this.ctx.lineWidth=this.side/30,this.drawBlank()}return s(t,[{key:"drawBlank",value:function(){this.ctx.clearRect(this.x,this.y,this.side,this.side),this.ctx.beginPath(),this.ctx.rect(this.x,this.y,this.side,this.side),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()}},{key:"drawCross",value:function(){var t=this,i={x:this.x+this.padding,y:this.y+this.padding,position:"left",speed:3*this.side*.016};this.status="cross",this.drawBlank();var e=function s(){switch(i.position){case"left":i.x<=t.x+t.side-t.padding?(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),i.x=i.x+i.speed,i.y=i.y+i.speed,t.ctx.lineTo(i.x,i.y),t.ctx.stroke(),t.ctx.closePath(),requestAnimationFrame(s)):(i.position="right",i.x=t.x+t.side-t.padding,i.y=t.y+t.padding,s());break;case"right":i.x>=t.x+t.padding?(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),i.x=i.x-i.speed,i.y=i.y+i.speed,t.ctx.lineTo(i.x,i.y),t.ctx.stroke(),t.ctx.closePath(),requestAnimationFrame(s)):t.animationEnd=!0}};return e()}},{key:"drawCircle",value:function(){var t=this,i={x:this.x+this.side/2,y:this.y+this.side/2,radius:(this.side-this.padding)/2,speed:3.2,quart:Math.PI/2,fullCircle:2*Math.PI,percent:0};this.status="circle";var e=function s(){t.drawBlank(),t.ctx.beginPath(),t.ctx.arc(i.x,i.y,i.radius,-i.quart,i.fullCircle*i.percent/100-i.quart,!1),t.ctx.stroke(),t.ctx.closePath(),i.percent<100?(i.percent=i.percent+i.speed,requestAnimationFrame(s)):t.animationEnd=!0};return e()}}]),t}();i["default"]=n}});